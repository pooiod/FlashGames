<!DOCTYPE html>

                    document.getElementById('offline-screen').style.display = 'block';
                }
            }, 3000);
        }
    <\/script>
</head>
<body onload="loadruffle()">
    <object id="game-object" type="application/x-shockwave-flash" data="${dataUri}" width="100%" height="100%">
        <param name="movie" value="${dataUri}" />
        <param name="allowScriptAccess" value="always" />
        <param name="allowFullScreen" value="true" />
        <param name="wmode" value="transparent" />
    </object>
    <div id="gameListContainer" style="display: none;"></div>
    <div id="offline-screen">
        <h1>Ruffle failed to load</h1>
        <p>Please ensure you have an active internet connection or try again later.</p>
    </div>
</body>
</html>`;
    
                var blob = new Blob([downloadHtml], { type: 'text/html' });
                var url = URL.createObjectURL(blob);
                downloadButton.textContent = 'Download ' + gameName;
                downloadButton.style.display = 'block';
                setTimeout(function() {
                    downloadButton.style.opacity = 1;
                }, 500);
    
                downloadButton.addEventListener('click', function() {
                    var a = document.createElement('a');
                    a.href = url;
                    a.download = gameName + '.html';
                    a.click();
                });
    
                loadingScreen.style.opacity = 0;
                setTimeout(function() {
                    loadingScreen.style.display = 'none';
                }, 500);
            }
    
            getGameFromUrl();
        } catch(err) {
            document.getElementById('offline-screen').style.display = 'block';
        }
    </script>
</body>
</html>

